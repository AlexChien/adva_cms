Story: Viewing a blog article page
  As an anonymous visitor 
  I want to access the blog article page
  So I can read the full article

  Scenario: An blog article page
    Given a published blog article
    When the user goes to the url /2008/1/1/the-article-title
    Then the page shows 'the article title'
    Then the page shows 'the article excerpt'
    Then the page shows 'the article body'
    Then the page does not show 'read the rest of this entry'

  Scenario: An blog article page with commenting allowed
    Given a published blog article
    When the user goes to the url /2008/1/1/the-article-title
    Then the page has a comment creation form

  Scenario: An blog article page with commenting not allowed
    Given a published blog article
    And the article does not allow commenting
    When the user goes to the url /2008/1/1/the-article-title
    Then the page does not have a comment creation form

  Scenario: An blog article page with an approved comment
    Given a published blog article
    And the article has an approved comment
    When the user goes to the url /2008/1/1/the-article-title
    Then the page shows 'the comment body'
    Then the page shows '1 comment'

  Scenario: An blog article page with an unapproved comment
    Given a published blog article
    And the article has an unapproved comment
    When the user goes to the url /2008/1/1/the-article-title
    Then the page does not show 'the comment body'
    Then the page does not show '1 comment'

  Scenario: An blog article page for an unpublished article
    Given an unpublished blog article
    When the user goes to the url /2008/1/1/the-article-title
    Then the user is redirected to the url /login

  Scenario: An blog article page for non existing article
    Given a blog with no articles
    When the user goes to the url /2008/1/1/the-article-title
    Then the request does not succeed


Story: Previewing a blog article page
  As an admin
  I want to access an unpublished blog article's page
  So I can preview it

  Scenario: An blog article page for an unpublished article
    Given an unpublished blog article
    And the user is logged in as admin
    When the user goes to the url /2008/1/1/the-article-title
    Then the page shows 'the article title'
  
